<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>Azure TOP(20) Changes DESC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js"></script>
    <script type='text/javascript' src="https://cdn.jsdelivr.net/npm/jsondiffpatch/dist/jsondiffpatch.umd.min.js"></script>
    <link rel="stylesheet" href="css/html.css" type="text/css" />
    <link rel="stylesheet" href="css/annotated.css" type="text/css" />
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif|Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/timeline-reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="css/timeline-style.css"> <!-- Resource style -->
    <link rel="stylesheet" href="css/timeline-demo.css"> <!-- Demo style -->
    <link rel="icon"
          type="image/png"
          href="img/calendar-icon.png">
</head>
<body>
    <a href="https://github.com/tyayers/AzureResourceDiff"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>

    <header>
        <h1>Azure TOP(20) Changes DESC</h1>
        <div class="cd-nugget-info">
            This page shows the last 20 days of <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-supported-services">Azure Resource Manager Provider</a> changes, taken using the <a href="https://docs.microsoft.com/en-us/rest/api/resources/providers/list">Azure REST API.</a>
        </div>
    </header>
    <script src="js/timeline-main.js"></script> <!-- Resource JavaScript -->
    <script>
        $.get("api/resource/11", function (data) {

            var left = JSON.parse(data["resourcesJson"]);
            $.get("api/resource/12", function (data) {
                var right = JSON.parse(data["resourcesJson"]);

                var delta = jsondiffpatch.diff(left, right);

                // beautiful html diff
                document.getElementById('visual').innerHTML = jsondiffpatch.formatters.html.format(delta, left);

                // self-explained json
                document.getElementById('annotated').innerHTML = jsondiffpatch.formatters.annotated.format(delta, left);

            });          
        });

    </script>

    <div id="loading-spinner">
        <ul class="spinner">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        <center>Loading...</center>
    </div>
    
    <div id="visual"></div>
    <hr />
    <div id="annotated"></div>
    
    <!--div class="cd-footer">

    </div-->

</body>
</html>